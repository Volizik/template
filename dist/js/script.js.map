{"version":3,"sources":["script.js"],"names":["Todo","options","titleField","document","querySelector","dateField","descField","body","tabsList","JSON","parse","localStorage","getItem","notes","getNotes","innerHTML","forEach","note","index","length","id","active","click","createNewNote","classList","remove","value","arr","newNote","Math","random","title","date","desc","push","clear","setItem","stringify","initTabs","activeBtn","noteId","getAttribute","result","filter","item","Number","addEventListener","saveBtn","delBtn","newNoteBtn","todo","bind","saveNewNote","deleteNote"],"mappings":";;;;;;IAAMA,I;AAEF,oBAAc;AAAA;;AACV,aAAKC,OAAL,GAAe;AACX;AACAC,wBAAYC,SAASC,aAAT,CAAuB,iBAAvB,CAFD;AAGXC,uBAAWF,SAASC,aAAT,CAAuB,gBAAvB,CAHA;AAIXE,uBAAWH,SAASC,aAAT,CAAuB,gBAAvB,CAJA;AAKX;AACAG,kBAAMJ,SAASC,aAAT,CAAuB,aAAvB,CANK;AAOXI,sBAAUL,SAASC,aAAT,CAAuB,aAAvB;AAPC,SAAf;AASH;;;;mCAEU;AACP;AACA,mBAAOK,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAApD;AACH;;;mCAEU;AAAA;;AACP,gBAAMC,QAAQ,KAAKC,QAAL,EAAd;AACA,iBAAKb,OAAL,CAAaO,QAAb,CAAsBO,SAAtB,GAAkC,EAAlC;AACAF,kBAAMG,OAAN,CAAc,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC3B,sBAAKjB,OAAL,CAAaO,QAAb,CAAsBO,SAAtB,4EAC8CF,MAAMM,MAAN,GAAe,CAAf,KAAqBD,KAArB,GAA6B,sBAA7B,GAAsD,EADpG,oDAE6BD,KAAKG,EAFlC,sDAG4BF,QAAQ,CAHpC;AAKH,aAND;AAOA,gBAAMG,SAASlB,SAASC,aAAT,CAAuB,uBAAvB,CAAf;AACA,gBAAIiB,MAAJ,EAAY;AACRA,uBAAOC,KAAP;AACH,aAFD,MAEO;AACH,qBAAKC,aAAL;AACH;AACJ;;;wCAEe;AACZ,gBAAIF,SAASlB,SAASC,aAAT,CAAuB,uBAAvB,CAAb;AACA,gBAAIiB,MAAJ,EAAY;AACRA,uBAAOG,SAAP,CAAiBC,MAAjB,CAAwB,sBAAxB;AACH;AACD,iBAAKxB,OAAL,CAAaC,UAAb,CAAwBwB,KAAxB,GAA+B,EAA/B;AACA,iBAAKzB,OAAL,CAAaI,SAAb,CAAuBqB,KAAvB,GAA8B,EAA9B;AACA,iBAAKzB,OAAL,CAAaK,SAAb,CAAuBoB,KAAvB,GAA8B,EAA9B;AACA,iBAAKzB,OAAL,CAAaO,QAAb,CAAsBO,SAAtB;AACH;;;sCAEa;AACV,gBAAIY,MAAMlB,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAAvD;AACA,gBAAIgB,UAAU;AACVR,oBAAIS,KAAKC,MAAL,EADM;AAEVC,uBAAO,KAAK9B,OAAL,CAAaC,UAAb,CAAwBwB,KAFrB;AAGVM,sBAAM,KAAK/B,OAAL,CAAaI,SAAb,CAAuBqB,KAHnB;AAIVO,sBAAM,KAAKhC,OAAL,CAAaK,SAAb,CAAuBoB;AAJnB,aAAd;AAMAC,gBAAIO,IAAJ,CAASN,OAAT;AACAjB,yBAAawB,KAAb;AACAxB,yBAAayB,OAAb,CAAqB,OAArB,EAA8B3B,KAAK4B,SAAL,CAAeV,GAAf,CAA9B;AACA,iBAAKW,QAAL;AACH;;;qCAEY;AACT,gBAAMC,YAAYpC,SAASC,aAAT,CAAuB,uBAAvB,CAAlB;AACA,gBAAMoC,SAASD,UAAUE,YAAV,CAAuB,IAAvB,CAAf;AACA,gBAAId,MAAMlB,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,OAArB,CAAX,CAAV;AACA,gBAAM8B,SAASf,IAAIgB,MAAJ,CAAY;AAAA,uBAAQC,KAAKxB,EAAL,KAAYyB,OAAOL,MAAP,CAApB;AAAA,aAAZ,CAAf;AACA7B,yBAAawB,KAAb;AACAxB,yBAAayB,OAAb,CAAqB,OAArB,EAA8B3B,KAAK4B,SAAL,CAAeK,MAAf,CAA9B;AACA,iBAAKJ,QAAL;AACH;;;4CAEmBrB,I,EAAM;AACtB,iBAAKhB,OAAL,CAAaM,IAAb,CAAkBQ,SAAlB,0BACUE,KAAKc,KADf,eAC8Bd,KAAKe,IADnC,qCAESf,KAAKgB,IAFd;AAIH;;;;;;AAML9B,SAAS2C,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAChD,QAAMC,UAAU5C,SAASC,aAAT,CAAuB,gBAAvB,CAAhB;AACA,QAAM4C,SAAS7C,SAASC,aAAT,CAAuB,eAAvB,CAAf;AACA,QAAM6C,aAAa9C,SAASC,aAAT,CAAuB,gBAAvB,CAAnB;AACA,QAAM8C,OAAO,IAAIlD,IAAJ,EAAb;;AAEAkD,SAAKZ,QAAL;AACAW,eAAWH,gBAAX,CAA4B,OAA5B,EAAqCI,KAAK3B,aAAL,CAAmB4B,IAAnB,CAAwBD,IAAxB,CAArC;AACAH,YAAQD,gBAAR,CAAyB,OAAzB,EAAkCI,KAAKE,WAAL,CAAiBD,IAAjB,CAAsBD,IAAtB,CAAlC;AACAF,WAAOF,gBAAP,CAAwB,OAAxB,EAAgCI,KAAKG,UAAL,CAAgBF,IAAhB,CAAqBD,IAArB,CAAhC;AACH,CAVD;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.js","sourcesContent":["class Todo {\r\n\r\n    constructor() {\r\n        this.options = {\r\n            // Fields\r\n            titleField: document.querySelector('.sidebar__title'),\r\n            dateField: document.querySelector('.sidebar__date'),\r\n            descField: document.querySelector('.sidebar__desc'),\r\n            // Body\r\n            body: document.querySelector('.main__body'),\r\n            tabsList: document.querySelector('.main__tabs')\r\n        }\r\n    }\r\n\r\n    getNotes() {\r\n        // Storage\r\n        return JSON.parse(localStorage.getItem('notes')) || [];\r\n    }\r\n\r\n    initTabs() {\r\n        const notes = this.getNotes();\r\n        this.options.tabsList.innerHTML = '';\r\n        notes.forEach((note, index) => {\r\n            this.options.tabsList.innerHTML += `<button \r\n                                    class=\"main__button ${notes.length - 1 === index ? 'main__button--active' : ''}\" \r\n                                    id=${note.id}\r\n                                    >№${index + 1} \r\n                                    </button>`;\r\n        });\r\n        const active = document.querySelector('.main__button--active');\r\n        if (active) {\r\n            active.click()\r\n        } else {\r\n            this.createNewNote()\r\n        }\r\n    }\r\n\r\n    createNewNote() {\r\n        let active = document.querySelector('.main__button--active');\r\n        if (active) {\r\n            active.classList.remove('main__button--active');\r\n        }\r\n        this.options.titleField.value ='';\r\n        this.options.dateField.value ='';\r\n        this.options.descField.value ='';\r\n        this.options.tabsList.innerHTML += `<button class=\"main__button main__button--active\">New note</button>`;\r\n    }\r\n\r\n    saveNewNote() {\r\n        let arr = JSON.parse(localStorage.getItem('notes')) || [];\r\n        let newNote = {\r\n            id: Math.random(),\r\n            title: this.options.titleField.value,\r\n            date: this.options.dateField.value,\r\n            desc: this.options.descField.value\r\n        };\r\n        arr.push(newNote);\r\n        localStorage.clear();\r\n        localStorage.setItem('notes', JSON.stringify(arr));\r\n        this.initTabs();\r\n    }\r\n\r\n    deleteNote() {\r\n        const activeBtn = document.querySelector('.main__button--active');\r\n        const noteId = activeBtn.getAttribute('id');\r\n        let arr = JSON.parse(localStorage.getItem('notes'));\r\n        const result = arr.filter( item => item.id !== Number(noteId) );\r\n        localStorage.clear();\r\n        localStorage.setItem('notes', JSON.stringify(result));\r\n        this.initTabs();\r\n    }\r\n\r\n    showCurrentNoteInfo(note) {\r\n        this.options.body.innerHTML = `\r\n            <h3>${note.title} <span>${note.date}</span></h3>\r\n            <p>${note.desc}</p>\r\n        `\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const saveBtn = document.querySelector('.sidebar__save');\r\n    const delBtn = document.querySelector('.sidebar__del');\r\n    const newNoteBtn = document.querySelector('.main__btn-new');\r\n    const todo = new Todo();\r\n\r\n    todo.initTabs();\r\n    newNoteBtn.addEventListener('click', todo.createNewNote.bind(todo));\r\n    saveBtn.addEventListener('click', todo.saveNewNote.bind(todo));\r\n    delBtn.addEventListener('click',todo.deleteNote.bind(todo));\r\n});\r\n\r\n\r\n// // Storage\r\n// let storage = JSON.parse(localStorage.getItem('notes')) || [];\r\n//\r\n// function showCurrentNote(note) {\r\n//     const body = document.querySelector('.main__body');\r\n//     body.innerHTML = `\r\n//             <h3>${note.title} <span>${note.date}</span></h3>\r\n//             <p>${note.desc}</p>\r\n//         `\r\n// }\r\n//\r\n// function showNote(el) {\r\n//     const id = el.getAttribute('id');\r\n//     storage.forEach((note) => {\r\n//         if (note.id === Number(id)) {\r\n//             showCurrentNote(note);\r\n//             console.log(note);\r\n//         }\r\n//     })\r\n// }\r\n//\r\n// document.addEventListener('DOMContentLoaded', () => {\r\n//\r\n//     // Fields\r\n//     const titleField = document.querySelector('.sidebar__title');\r\n//     const dateField = document.querySelector('.sidebar__date');\r\n//     const descField = document.querySelector('.sidebar__desc');\r\n//     // Buttons\r\n//     const addBtn = document.querySelector('.sidebar__save');\r\n//     const newBtn = document.querySelector('.main__btn-new');\r\n//     const delBtn = document.querySelector('.sidebar__del');\r\n//     let tabs;\r\n//     // Body\r\n//     const body = document.querySelector('.main__body');\r\n//     const tabsList = document.querySelector('.main__tabs');\r\n//\r\n//     let newNote = {\r\n//         id: Math.random(),\r\n//         title: titleField.value,\r\n//         date: dateField.value,\r\n//         desc: descField.value\r\n//     };\r\n//\r\n//\r\n//     function init() {\r\n//         if (storage.length > 0) {\r\n//             createTabs()\r\n//         } else {\r\n//             body.innerHTML = '<h3 style=\"text-align: center\">Нет сохраненных заметок. Создайте новую!</h3>'\r\n//         }\r\n//     }\r\n//\r\n//     function saveNote() {\r\n//         let arr = JSON.parse(localStorage.getItem('notes')) || [];\r\n//         newNote = {\r\n//             id: Math.random(),\r\n//             title: titleField.value,\r\n//             date: dateField.value,\r\n//             desc: descField.value\r\n//         };\r\n//         arr.push(newNote);\r\n//         localStorage.clear();\r\n//         localStorage.setItem('notes', JSON.stringify(arr));\r\n//         storage = JSON.parse(localStorage.getItem('notes'));\r\n//         createTabs()\r\n//     }\r\n//\r\n//     function createTabs() {\r\n//         const stor = JSON.parse(localStorage.getItem('notes')) || [];\r\n//         tabsList.innerHTML = '';\r\n//         stor.forEach((note, index) => {\r\n//             tabsList.innerHTML += `<button\r\n//                                     class=\"main__button ${storage.length - 1 === index ? 'main__button--active' : ''}\"\r\n//                                     id=${note.id}\r\n//                                     onclick=\"showNote(event.target)\"\r\n//                                     >№${index + 1}\r\n//                                     </button>`;\r\n//         });\r\n//         tabs = document.querySelector('.main__tab');\r\n//\r\n//         const active = document.querySelector('.main__button--active');\r\n//         active.click()\r\n//     }\r\n//\r\n//\r\n//     init();\r\n//\r\n//     addBtn.addEventListener('click', () => {\r\n//         saveNote()\r\n//     });\r\n//\r\n//\r\n// });"]}